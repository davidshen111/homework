FROM eclipse-temurin:17-jdk-alpine

WORKDIR /app

ARG DB_USERNAME_ARG
ARG DB_PASSWORD_ARG
ARG DB_HOST_ARG

ENV DB_USERNAME=$DB_USERNAME_ARG
ENV DB_PASSWORD=$DB_PASSWORD_ARG
ENV DB_HOST=$DB_HOST_ARG

ARG JAR_FILE=target/*.jar
COPY ${JAR_FILE} app.jar

ENTRYPOINT ["java", "-jar", "/app/app.jar"]

EXPOSE 8080
